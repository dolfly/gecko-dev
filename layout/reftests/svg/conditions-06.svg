<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="svg-root" width="100%" height="100%" onload="runtest()"><title>Test conditional processing DOM interface</title><defs><script>function runtest() { try { var r1 = document.getElementById(&quot;r1&quot;); var r2 = document.getElementById(&quot;r2&quot;); var r3 = document.getElementById(&quot;r3&quot;); var i0 = r1.requiredFeatures.getItem(0); var i1 = r1.requiredFeatures.getItem(1); if(i0 != &quot;http://www.w3.org/TR/SVG11/feature#Shape&quot;) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } if(i1 != &quot;this.is.a.bogus.feature.string&quot;) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } if(r1.requiredFeatures.numberOfItems != 2) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } r2.requiredFeatures.appendItem(i1); if(r1.requiredFeatures.numberOfItems != 2) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } if(r2.requiredFeatures.numberOfItems != 1) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } r3.requiredFeatures.insertItemBefore(i0,0); if(r3.requiredFeatures.numberOfItems != 2) { r3.setAttribute(&quot;fill&quot;, &quot;red&quot;); return; } if(r1.requiredFeatures.numberOfItems != 2) { r1.removeAttribute(&quot;requiredFeatures&quot;); return; } } catch(e) { var f = document.getElementById(&quot;fail&quot;); f.setAttribute(&quot;fill&quot;, &quot;red&quot;); } }</script></defs><rect width="100%" height="100%" fill="#0f0"/><rect width="100" height="100" x="100" y="100" fill="#0f0"/><rect width="100" height="100" x="190" y="100" fill="#0f0"/><rect width="100" height="100" x="300" y="100" fill="red"/><rect id="r1" width="100" height="100" x="100" y="100" fill="red" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Shape this.is.a.bogus.feature.string"/><rect id="r2" width="100" height="100" x="190" y="100" fill="red"/><rect id="r3" width="100" height="100" x="300" y="100" fill="#0f0" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Shape"/><rect id="fail" width="100%" height="100%" fill="none"/></svg>